%h1 Presenta un argomento
%h2 Linux Day 2013 - BGlug

%p Puoi segnalarci che vuoi presentare un argomento al Linux Day completando il seguente modulo.

.forms
  :javascript
    $().ready(function() {
      // Valida form.
      $("#presenta").validate({
        rules: {
          nome: "required",
          email: "required",
          titolo: "required",
          captcha_answer: "required",
          nome: {
            required: true,
            minlength: 3
          },
          email: {
            required: true,
            email: true
          },
          titolo: {
            required: true,
            maxlength: 50,
            minlength: 5
          },
          abstract: {
            maxlength: 300
          },
          captcha_answer: {
            minlength: 4,
            maxlength: 4
          }
        },
        messages: {
          name: "Inserisci il tuo nome e cognome, di almeno 3 lettere.",
          email: "Inserisci un indirizzo email valido.",
          titolo: "Inserisci un titolo anche provvisorio (min: 5 lettere, max: 50 lettere)",
          abstract: "Il sommario non può essere più lungo di 300 caratteri."
        }
      });
      $('#abstract').keyup(function() {
        var max = 300;
        var len = $(this).val().length;
        if (len >= max) {
          $('#counter').text("Termine lettere a disposizione.");
        } else {
          var char = max - len;
          $('#counter').html(char + ' lettere rimanenti.');
        }
      });
    });
  %form(action="/ld/2013/conferma" method="post" id="presenta")
    %table
      %tr
        %th
          %label(for="nome") Nome e Cognome <span class="required">*</span>
        %td
          %input(type='text' name='nome' autofocus required)
      %tr
        %th
          %label(for='email') Email <span class="required">*</span>
        %td
          %input(type='email' name='email' required)
      %tr
        %th
          %label(for='titolo') Qual è il titolo (anche provvisorio) del tuo intervento? <span class="required">*</span>
        %td
          %input(type='text' name='titolo' required)
      %tr
        %th
          %label(for='sessione') In quale sessione preferiresti presentare?
        %td
          %select(name='sessione')
            %option(value="Mattina") Mattutina (stampo divulgativo)
            %option(value="Pomeriggio") Pomeridiana (stampo tecnico)
            %option(value="-" selected) È indifferente/non ho preferenze
      %tr
        %th
          %label(for="formato") Che formato avrà la tua presentazione?
        %td
          %select(name="formato")
            %option(value="Talk") Presentazione normale (talk, circa 40 min.)
            %option(value="Lightning Talk")
              %em Lightning talk
              (circa 15 min.)
            %option(value="Lab") Laboratorio (circa 40 min.)
            %option(value="Demo") Dimostrazione (circa 40 min.)
            %option(value="-" selected) Non lo so ancora
      %tr
        %th
          %label(for='abstract') Breve sommario del tuo intervento
        %td
          %textarea#abstract(name="abstract" rows="6" cols="40" maxlength="300")
          %br
          %p#counter 300 lettere rimanenti.
      = haml 'ld/2013/captcha'.to_sym
    .buttons
      %input(type='hidden' name='azione' value='presenta')
      %input(type="submit" name="submit" value="Conferma")
      %input(type="reset" name="cancel" value="Cancella modulo")
